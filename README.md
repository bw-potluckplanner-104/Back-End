# Potluck Planner - Back-End Docs

## Users

### Helper Methods

`getUsers()`: Returns an array of all users currently in the database.

`getUserById(id)`: Returns a user object.

`findBy(filter)`: Search for a user by their id, username, email, or password. Returns a user object.

`add(newUser)`: Adds a new user to the database, then returns an object containing the new user.

`remove(id)`: Removes an existing user from the database. Returns a number of how many items were removed.

### Schema

| Field    | Data Type        | Metadata                                            |
| :------- | :--------------- | :-------------------------------------------------- |
| id       | unsigned integer | primary key, auto-increments, generated by database |
| email    | string           | required, unique                                    |
| username | string           | required, unique, 64 character max                  |
| password | string           | required, 20 character max                          |

### Endpoints

| Action             | URL        | Method | Response       |
| :----------------- | :--------- | :----- | :------------- |
| View list of users | /users     | GET    | Array of users |
| View specific user | /users/:id | GET    | A user object  |

### **- Auth -**

| Action             | URL           | Method | Response             |
| :----------------- | :------------ | :----- | :------------------- |
| Adds a new user    | /users/signup | POST   | The newly added user |
| Authenticates user | /users/login  | POST   | Authenticated user   |

---

### **_The following endpoints are protected!!_**

### **_They can only be accessed by an authenticated user._**

## Potlucks

### Helper Methods

`getPotlucks()`: Returns an array of all potlucks currently in the database.

`getPotluckById(id)`: Returns a potluck object.

`addPotluck(payload)`: Add a potluck to the database. Returns an object with the newly created potluck.

`removePotluck(id)`: Removes a potluck from the database. Returns a number of how many files were removed.

### Schema

| Field    | Data Type        | Metadata                                            |
| :------- | :--------------- | :-------------------------------------------------- |
| id       | unsigned integer | primary key, auto-increments, generated by database |
| date     | date             | required, unique                                    |
| time     | string           | required, unique, 10 character max                  |
| location | string           | required, 128 character max                         |

### Endpoints

| Action                | URL           | Method | Response          |
| :-------------------- | :------------ | :----- | :---------------- |
| View list of potlucks | /potlucks     | GET    | Array of potlucks |
| View specific potluck | /potlucks/:id | GET    | A potluck object  |

---

## Potluck Items

### Helper Methods

`getItems()`: Returns an array of all potluck items currently in the database.

`getItemById(id)`: Returns an item object.

`addItem(payload)`: Add an item to the database. Returns an object with the newly created item.

`removeItem(id)`: Removes an item from the database. Returns a number of how many files were removed.

### Schema

| Field | Data Type        | Metadata                                            |
| :---- | :--------------- | :-------------------------------------------------- |
| id    | unsigned integer | primary key, auto-increments, generated by database |
| item  | string           | required, 50 character max                          |

### Endpoints

| Action                     | URL                | Method | Response               |
| :------------------------- | :----------------- | :----- | :--------------------- |
| View list of potluck items | /potluck-items/    | GET    | Array of potluck items |
| View specific potluck item | /potluck-items/:id | GET    | A potluck item object  |
